<?jelly escape-by-default='true'?>
<j:jelly xmlns:j="jelly:core" xmlns:st="jelly:stapler" xmlns:d="jelly:define" xmlns:l="/lib/layout" xmlns:t="/lib/hudson" xmlns:f="/lib/form">
  	<f:entry field="repoName" title="${%repoName}">
   		<f:combobox />
	</f:entry>
	<f:entry field="suffix" title="${%suffix}">
   		<f:textbox />
	</f:entry>
	<f:entry title="${%ROS Release Version}" help="/plugin/cob-pipeline/help-rosDistros.html">
		<j:set var="rosDistros" value="${descriptor.allRosDistros}"/>
		<table align="center" border="0" cellpadding="0" cellspacing="0" width="100%">
			<tbody><tr>
				<j:forEach var="g" items="${rosDistros}">
					<td width="*">
	                	<f:checkbox field="${g}" title="${g}"/>
	              	</td>
	            </j:forEach>			
			</tr></tbody>
		</table>
	</f:entry>
	<f:entry field="prioUbuntuDistro" title="${%Priority Ubuntu Release}">
		<table align="left" border="0" cellpadding="5" cellspacing="0" width="20%">
			<tbody><tr>
				<td valign="top">
   					<f:select />
				</td>
			</tr></tbody>
   		</table>
	</f:entry>
	<f:entry field="prioArch" title="${%Priority Architecture}">
		<table align="left" border="0" cellpadding="5" cellspacing="0" width="20%">
			<tbody><tr>
				<td valign="top">
   					<f:select />
				</td>
			</tr></tbody>
   		</table>
	</f:entry>
	<f:entry title="Advanced Repository Options">
  		<f:advanced>
		  	<f:entry field="fork" title="${%fork}">
		   		<f:combobox />
			</f:entry>
			<f:entry field="branch" title="${%branch}">
		   		<f:combobox />
			</f:entry>
			<f:entry title="${%jobs}">
  				<table border="0" width="*">
					<f:optionalBlock field="regularBuild" title="${%buildMatrix}" inline="true">
				      	<f:entry title="Environment matrix">
				        	<!--TODO matrix-->
				      	</f:entry>
		    		</f:optionalBlock>
		    	</table>
  				<table border="0" width="*">
					<f:optionalBlock field="downstreamBuild" title="${%downstreamBuild}">
						<td valign="top" width="150"></td>
			      		<td valign="top" width="*">
							<f:checkbox field="nongraphicsTest" title="${%nongraphicsTest}"/>
						</td>
						<tr></tr>
						<td valign="top" width="150"></td>
						<td valign="top" width="*">
							<f:checkbox field="graphicsTest" title="${%graphicsTest}"/>
						</td>
		    		</f:optionalBlock>
		    	</table>
  				<table border="0" width="*">
					<f:optionalBlock field="hardwareBuild" title="${%hardwareBuild}">
						<j:set var="robots" value="${descriptor.Robots}"/>
						<td valign="top" width="150"></td>
						<td valign="top" width="*">
							<f:checkbox field="automaticHwTest" title="${%automaticHwTest}"/>
						</td>
						<tr></tr>
						<td valign="top" width="150"></td>
						<td valign="top" width="*">
							<f:checkbox field="interactiveHwTest" title="${%interactiveHwTest}"/>
						</td>
						<tr></tr>
						<td width="*"></td>
						<td width="*">${%robots}</td>
						<j:forEach var="r" items="${robots}">
							<td width="*">
			                	<f:checkbox field="${r}__robot" title="${r}" checked="${instance.isRobotChecked(r)}"/>
			              	</td>
			            </j:forEach>
		    		</f:optionalBlock>
		    	</table>
  				<table border="0" width="*">
					<td valign="top" width="*">
		    			<f:checkbox field="release" title="${%release}"/>
		    		</td>
		    	</table>
		    </f:entry>
  		</f:advanced>
  	</f:entry>
  	<f:entry title="${%repoDeps}" field="repoDeps">
	    <f:repeatable field="repoDeps" noAddButton="false" minimum="0" header="${%repoDep}">
	      	<j:set var="instance" value="${instance.descriptor!=descriptor?null:instance}"/><!-- work around until 1.382 -->
	     	<table width="100%">
	        	<st:include class="${descriptor.clazz}" page="config.jelly" />
	
	        	<f:entry>
	          		<div align="right">
	            		<input type="button" value="${%delete_dep}" class="repeatable-delete" style="margin-left: 1em;" />
	          		</div>
	        	</f:entry>
	      	</table>
	    </f:repeatable>
	 </f:entry>
</j:jelly>
